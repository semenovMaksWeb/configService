[
    {
        "name": "connectionMain",
        "action": "connectionDatabase",
        "comment": "Подключение к бд",
        "result": "=",
        "connection": [
            {
                "key": "type",
                "env": "BD_MAIN_TYPE",
                "convert": {
                    "type": "string"
                }
            },
            {
                "key": "user",
                "env": "BD_MAIN_USER",
                "convert": {
                    "type": "string"
                }
            },
            {
                "key": "password",
                "env": "BD_MAIN_PASSWORD",
                "convert": {
                    "type": "string"
                }
            },
            {
                "key": "host",
                "env": "BD_MAIN_HOST",
                "convert": {
                    "type": "string"
                }
            },
            {
                "key": "port",
                "env": "BD_MAIN_PORT",
                "convert": {
                    "type": "number"
                }
            },
            {
                "key": "database",
                "env": "BD_MAIN_DATABASE",
                "convert": {
                    "type": "string"
                }
            }
        ]
    },
    {
        "name": "connectionMySql",
        "action": "connectionDatabase",
        "comment": "Подключение к бд",
        "result": "=",
        "connection": [
            {
                "key": "type",
                "env": "BD_MYSQL_TYPE",
                "convert": {
                    "type": "string"
                }
            },
            {
                "key": "user",
                "env": "BD_MYSQL_USER",
                "convert": {
                    "type": "string"
                }
            },
            {
                "key": "password",
                "env": "BD_MYSQL_PASSWORD",
                "convert": {
                    "type": "string"
                }
            },
            {
                "key": "host",
                "env": "BD_MYSQL_HOST",
                "convert": {
                    "type": "string"
                }
            },
            {
                "key": "port",
                "env": "BD_MYSQL_PORT",
                "convert": {
                    "type": "number"
                }
            },
            {
                "key": "database",
                "env": "BD_MYSQL_DATABASE",
                "convert": {
                    "type": "string"
                }
            }
        ]
    },
    {
        "name": "sqlResult",
        "action": "sql",
        "result": "=",
        "comment": "Вызов sql функции",
        "sql": {
            "connection": {
                "store": "connectionMain",
                "convert": {
                    "type": null
                }
            },
            "query": "select * from temp.test_bd_11_08_2024 tb where tb.test = $1::varchar",
            "params": [
                {
                    "const": "1",
                    "convert": {
                        "type": "string"
                    }
                }
            ]
        }
    },
    {
        "name": "sqlResultMysql",
        "action": "sql",
        "result": "=",
        "comment": "Вызов sql функции",
        "sql": {
            "connection": {
                "store": "connectionMySql",
                "convert": {
                    "type": null
                }
            },
            "query": "SELECT * FROM test t where t.id = $1::int",
            "params": [
                {
                    "const": "1",
                    "convert": {
                        "type": "number"
                    }
                }
            ]
        }
    }
]